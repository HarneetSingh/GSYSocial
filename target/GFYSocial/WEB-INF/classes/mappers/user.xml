<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="com.motionapps.GSYSocial.dao.UserDao">

    <resultMap id="userMap" type="User" >
        <id column="email_id" property="emailId"  />
        <result column="user_name" property="userName"/>
        <result column="password" property="password" />
        <result column="date_of_birth" property="dateOfBirth"/>
        <result column="mobile_number" property="mobileNumber" />
        <result column="session_id" property="sessionId" />
	</resultMap>   
 
    
 	<!-- ************** CREATE ************** -->
 	<insert id="createUser" parameterType="User" useGeneratedKeys="true">
		INSERT 
			INTO user
		SET 
			email_id = #{emailId},
			user_name = #{userName},
			password = #{password},
			date_of_birth = #{dateOfBirth},
			mobile_number = #{mobileNumber};
			
 	</insert>   
	<!-- ************** READ ************** -->
    <select id="getUsers" resultMap="userMap">
        SELECT
        	email_id,
        	user_name,
        	password,
        	date_of_birth,
        	mobile_number,
        	session_id
        FROM
            user; 	            	
    </select>
    <select id="getSessionId" resultType="String" parameterType="String">
        SELECT
        	session_id
        FROM
            user
        WHERE      
        	email_id=#{value}; 	            	
    </select>
    <select id="getPassword" resultType="String" parameterType="String">
        SELECT
        	password
        FROM
            user
        WHERE      
        	email_id=#{value}; 	            	
    </select>

</mapper>